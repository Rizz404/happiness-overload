<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Dokumentasi API</title>
    <style>
      /* From extension vscode.github */
      /*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

      .vscode-dark img[src$="\#gh-light-mode-only"],
      .vscode-light img[src$="\#gh-dark-mode-only"] {
        display: none;
      }
    </style>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css" />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", system-ui, "Ubuntu",
          "Droid Sans", sans-serif;
        font-size: 14px;
        line-height: 1.6;
      }
    </style>
    <style>
      .task-list-item {
        list-style-type: none;
      }

      .task-list-item-checkbox {
        margin-left: -20px;
        vertical-align: middle;
        pointer-events: none;
      }
    </style>
    <style>
      :root {
        --color-note: #0969da;
        --color-tip: #1a7f37;
        --color-warning: #9a6700;
        --color-severe: #bc4c00;
        --color-caution: #d1242f;
        --color-important: #8250df;
      }
    </style>
    <style>
      @media (prefers-color-scheme: dark) {
        :root {
          --color-note: #2f81f7;
          --color-tip: #3fb950;
          --color-warning: #d29922;
          --color-severe: #db6d28;
          --color-caution: #f85149;
          --color-important: #a371f7;
        }
      }
    </style>
    <style>
      .markdown-alert {
        padding: 0.5rem 1rem;
        margin-bottom: 16px;
        color: inherit;
        border-left: 0.25em solid #888;
      }

      .markdown-alert > :first-child {
        margin-top: 0;
      }

      .markdown-alert > :last-child {
        margin-bottom: 0;
      }

      .markdown-alert .markdown-alert-title {
        display: flex;
        font-weight: 500;
        align-items: center;
        line-height: 1;
      }

      .markdown-alert .markdown-alert-title .octicon {
        margin-right: 0.5rem;
        display: inline-block;
        overflow: visible !important;
        vertical-align: text-bottom;
        fill: currentColor;
      }

      .markdown-alert.markdown-alert-note {
        border-left-color: var(--color-note);
      }

      .markdown-alert.markdown-alert-note .markdown-alert-title {
        color: var(--color-note);
      }

      .markdown-alert.markdown-alert-important {
        border-left-color: var(--color-important);
      }

      .markdown-alert.markdown-alert-important .markdown-alert-title {
        color: var(--color-important);
      }

      .markdown-alert.markdown-alert-warning {
        border-left-color: var(--color-warning);
      }

      .markdown-alert.markdown-alert-warning .markdown-alert-title {
        color: var(--color-warning);
      }

      .markdown-alert.markdown-alert-tip {
        border-left-color: var(--color-tip);
      }

      .markdown-alert.markdown-alert-tip .markdown-alert-title {
        color: var(--color-tip);
      }

      .markdown-alert.markdown-alert-caution {
        border-left-color: var(--color-caution);
      }

      .markdown-alert.markdown-alert-caution .markdown-alert-title {
        color: var(--color-caution);
      }
    </style>
  </head>
  <body class="vscode-body vscode-light">
    <h1 id="dokumentasi-api">Dokumentasi API</h1>
    <h2 id="url-dasar">URL Dasar</h2>
    <p>Semua permintaan API dibuat ke: <code>https://happiness-overload.netlify.app/</code></p>
    <h2 id="allowed-origins">Allowed Origins</h2>
    <p>Berikut adalah daftar origin yang diizinkan untuk melakukan permintaan ke API ini:</p>
    <ul>
      <li><code>http://localhost:5000</code></li>
      <li><code>http://localhost:3500</code></li>
      <li><code>http://localhost:5173</code></li>
    </ul>
    <h2 id="endpoint">Endpoint</h2>
    <h3 id="rute-autentikasi-auth">Rute Autentikasi (<code>auth/</code>)</h3>
    <ul>
      <li><strong>POST auth/google-login</strong>: Login dengan Google</li>
      <li><strong>POST auth/register</strong>: Daftarkan pengguna baru</li>
      <li><strong>POST auth/login</strong>: Login pengguna</li>
      <li><strong>POST auth/logout</strong>: Logout pengguna</li>
    </ul>
    <h3 id="rute-komentar-comments">Rute Komentar (<code>comments/</code>)</h3>
    <ul>
      <li>
        <strong>POST comments/create/:postId/:parentId?</strong>: Buat komentar (memerlukan login)
      </li>
      <li><strong>GET comments/post/:postId</strong>: Dapatkan komentar untuk postingan</li>
      <li><strong>GET comments/replies/:commentId</strong>: Dapatkan balasan untuk komentar</li>
      <li><strong>PATCH comments/upvote/:commentId</strong>: Upvote komentar (memerlukan login)</li>
      <li>
        <strong>PATCH comments/downvote/:commentId</strong>: Downvote komentar (memerlukan login)
      </li>
      <li><strong>GET comments/:commentId</strong>: Dapatkan komentar</li>
      <li><strong>PATCH comments/:commentId</strong>: Perbarui komentar (memerlukan login)</li>
      <li><strong>DELETE comments/:commentId</strong>: Hapus komentar (memerlukan login)</li>
    </ul>
    <h3 id="rute-postingan-posts">Rute Postingan (<code>posts/</code>)</h3>
    <ul>
      <li><strong>GET posts/</strong>: Dapatkan semua postingan</li>
      <li><strong>POST posts/</strong>: Buat postingan (memerlukan login)</li>
      <li><strong>GET posts/search</strong>: Cari postingan berdasarkan judul</li>
      <li><strong>GET posts/saved</strong>: Dapatkan postingan yang disimpan (memerlukan login)</li>
      <li><strong>GET posts/self</strong>: Dapatkan postingan sendiri (memerlukan login)</li>
      <li><strong>PATCH posts/save/:postId</strong>: Simpan postingan (memerlukan login)</li>
      <li><strong>PATCH posts/upvote/:postId</strong>: Upvote postingan (memerlukan login)</li>
      <li><strong>PATCH posts/downvote/:postId</strong>: Downvote postingan (memerlukan login)</li>
      <li><strong>GET posts/:postId</strong>: Dapatkan postingan</li>
      <li><strong>DELETE posts/:postId</strong>: Hapus postingan (memerlukan login)</li>
    </ul>
    <h3 id="rute-tag-tags">Rute Tag (<code>tags/</code>)</h3>
    <ul>
      <li><strong>GET tags/</strong>: Dapatkan semua tag</li>
      <li><strong>POST tags/</strong>: Buat tag (memerlukan login)</li>
      <li><strong>GET tags/search</strong>: Cari tag berdasarkan nama</li>
      <li><strong>PATCH tags/follow/:tagId</strong>: Ikuti tag (memerlukan login)</li>
      <li><strong>PATCH tags/block/:tagId</strong>: Blokir tag (memerlukan login)</li>
      <li><strong>GET tags/:name</strong>: Dapatkan postingan berdasarkan nama tag</li>
      <li><strong>GET tags/:tagId</strong>: Dapatkan tag</li>
    </ul>
    <h3 id="rute-pengguna-users">Rute Pengguna (<code>users/</code>)</h3>
    <ul>
      <li><strong>GET users/</strong>: Dapatkan semua pengguna</li>
      <li><strong>GET users/profile</strong>: Dapatkan profil pengguna (memerlukan login)</li>
      <li><strong>PATCH users/profile</strong>: Perbarui profil pengguna (memerlukan login)</li>
      <li>
        <strong>GET users/following</strong>: Dapatkan pengguna yang diikuti (memerlukan login)
      </li>
      <li><strong>GET users/followers</strong>: Dapatkan pengikut (memerlukan login)</li>
      <li><strong>PATCH users/follow/:userId</strong>: Ikuti pengguna (memerlukan login)</li>
      <li><strong>GET users/search</strong>: Cari pengguna</li>
      <li><strong>GET users/:userId</strong>: Dapatkan pengguna berdasarkan ID</li>
    </ul>
    <h2 id="catatan">Catatan</h2>
    <ul>
      <li>Semua rute yang memerlukan login harus menyertakan JWT yang valid di cookie.</li>
      <li>
        Parameter <code>/:postId</code>, <code>/:commentId</code>, <code>/:tagId</code>, dan
        <code>/:userId</code> dalam rute harus diganti dengan ID postingan, komentar, tag, atau
        pengguna yang sebenarnya.
      </li>
      <li>
        Parameter <code>/:parentId?</code> dalam rute
        <code>/create/:postId/:parentId?</code> bersifat opsional dan hanya harus disertakan ketika
        komentar adalah balasan untuk komentar lain.
      </li>
    </ul>
  </body>
</html>
